{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Auth","description":"User authorization"}],"paths":{"/api/comments/{commentId}":{"get":{"tags":["Comments"],"summary":"Get comment","description":"Returns a comment with the specified ID","operationId":"getCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Comment returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponseDTO"}}}},"404":{"description":"Comment not found"}},"security":[{"bearerAuth":[]}]},"put":{"tags":["Comments"],"summary":"Edit comment","description":"Edits a comment with the specified ID","operationId":"editCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequestDTO"}}},"required":true},"responses":{"200":{"description":"Comment edited"},"404":{"description":"Comment not found"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Comments"],"summary":"Delete comment","description":"Deletes a comment with the specified ID","operationId":"deleteCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Comment deleted"},"404":{"description":"Comment not found"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts/{postId}":{"get":{"tags":["Blogposts"],"summary":"Get blogpost","description":"Returns a blogpost with the specified ID","operationId":"getBlogPostById","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Blogpost returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPostResponseDTO"}}}},"404":{"description":"Blogpost not found"}},"security":[{"bearerAuth":[]}]},"put":{"tags":["Blogposts"],"summary":"Edit blogpost","description":"Edits a blogpost with the specified ID","operationId":"editBlogPostById","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlogPostRequestDTO"}}},"required":true},"responses":{"200":{"description":"Blogpost edited"},"404":{"description":"Blogpost not found"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Blogposts"],"summary":"Delete blogpost","description":"Deletes a blogpost with the specified ID","operationId":"deleteBlogPostById","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Blogpost deleted"},"404":{"description":"Blogpost not found"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts":{"get":{"tags":["Blogposts"],"summary":"Get all blogposts","description":"Returns a paginated list of all blogposts. Sorted by creation time descending.","operationId":"getBlogPosts","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"List of all blogposts","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBlogPostResponseDTO"}}}}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Blogposts"],"summary":"Create blogpost","description":"Creates a blogpost","operationId":"createBlogPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlogPostRequestDTO"}}},"required":true},"responses":{"201":{"description":"Blogpost created"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Blogposts"],"summary":"Bulk delete blogposts","description":"Deletes multiple blogposts with the specified IDs","operationId":"bulkDeleteBlogPostsByIds","parameters":[{"name":"ids","in":"query","description":"Comma-separated list of blogpost IDs","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}}],"responses":{"204":{"description":"All blogposts deleted"},"404":{"description":"One or more blogposts not found"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts/{postId}/reactions":{"get":{"tags":["Reactions"],"summary":"Get reactions for blogpost","description":"Returns a paginated list of reactions (users and their reaction type) for the specified blogpost. Optional filter by reaction type (LIKE or DISLIKE). Sorted by author ID descending.","operationId":"getReactionsByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"reactionType","in":"query","required":false,"schema":{"type":"string","enum":["LIKE","DISLIKE"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Users and their reaction type returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageReactionResponseDTO"}}}},"404":{"description":"Post not found"}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Reactions"],"summary":"Add reaction to blogpost","description":"Adds a reaction (LIKE or DISLIKE) to a blogpost by the current user. Overwrites users existing reaction if it exists.","operationId":"addReactionByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReactionRequestDTO"}}},"required":true},"responses":{"201":{"description":"Reaction added to blogpost"},"404":{"description":"Post not found"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Reactions"],"summary":"Remove reaction from blogpost","description":"Removes the current user's reaction (LIKE or DISLIKE) from the blog post.","operationId":"deleteReactionByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Reaction removed from blogpost"},"404":{"description":"Post not found"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts/{postId}/comments":{"get":{"tags":["Comments"],"summary":"Get comments for blogpost","description":"Returns a paginated list of comments for the specified blogpost. Sorted by comment ID descending.","operationId":"getCommentsByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Comments on blogpost returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCommentResponseDTO"}}}},"404":{"description":"Blogpost not found"}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Comments"],"summary":"Create comment on blogpost","description":"Creates a comment on the specified blogpost","operationId":"createComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequestDTO"}}},"required":true},"responses":{"201":{"description":"Comments created"},"404":{"description":"Blogpost not found"}},"security":[{"bearerAuth":[]}]}},"/api/auth/register":{"post":{"tags":["Auth"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDTO"}}},"required":true},"responses":{"201":{"description":"User registered and token returned","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"operationId":"loginUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDTO"}}},"required":true},"responses":{"200":{"description":"Valid credentials passed and token returned","content":{"*/*":{"schema":{"type":"string"}}}},"404":{"description":"Invalid credentials passed"}}}},"/api/users/{userId}/posts":{"get":{"tags":["Blogposts"],"summary":"Get all blogposts by user","description":"Returns a paginated list of blogposts created by the specified user. Sorted by creation time descending.","operationId":"getBlogPostsByUserId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"List of blogposts created by the user returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBlogPostResponseDTO"}}}},"404":{"description":"User not found"}},"security":[{"bearerAuth":[]}]}},"/api/users/{userId}/comments":{"get":{"tags":["Comments"],"summary":"Get all comments by user","description":"Returns a paginated list of comments made by the specified user. Sorted by comment ID descending.","operationId":"getCommentsByAuthorId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Comments by user returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCommentResponseDTO"}}}},"404":{"description":"User not found"}},"security":[{"bearerAuth":[]}]}},"/api/users/{id}":{"get":{"tags":["Users"],"summary":"Get user by id","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"User returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PublicUserDTO"}}}},"404":{"description":"User not found"}},"security":[{"bearerAuth":[]}]}}},"components":{"schemas":{"CommentRequestDTO":{"type":"object","properties":{"body":{"type":"string","maxLength":300,"minLength":0},"parentCommentId":{"type":"integer","format":"int64"}},"required":["body"]},"BlogPostRequestDTO":{"type":"object","properties":{"title":{"type":"string","maxLength":255,"minLength":0},"body":{"type":"string","maxLength":16000,"minLength":0}},"required":["body","title"]},"ReactionRequestDTO":{"type":"object","properties":{"reactionType":{"type":"string","enum":["LIKE","DISLIKE"]}}},"AuthUserDTO":{"type":"object","properties":{"username":{"type":"string","minLength":1},"password":{"type":"string","maxLength":128,"minLength":6}},"required":["password","username"]},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"BlogPostResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/PublicUserDTO"},"title":{"type":"string"},"body":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"likeCount":{"type":"integer","format":"int64"},"dislikeCount":{"type":"integer","format":"int64"},"userReaction":{"type":"string","enum":["LIKE","DISLIKE"]}}},"PageBlogPostResponseDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BlogPostResponseDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"PublicUserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"CommentResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"parentCommentId":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/PublicUserDTO"},"body":{"type":"string"},"hasReplies":{"type":"boolean"}}},"PageCommentResponseDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponseDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageReactionResponseDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ReactionResponseDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"ReactionResponseDTO":{"type":"object","properties":{"author":{"$ref":"#/components/schemas/PublicUserDTO"},"reactionType":{"type":"string","enum":["LIKE","DISLIKE"]}}}}}}