{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Auth","description":"User authorization"}],"paths":{"/api/comments/{commentId}":{"get":{"tags":["Comments"],"summary":"Get comment","description":"Returns a comment with the specified ID","operationId":"getCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Comment returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"404":{"description":"Comment not found"}},"security":[{"bearerAuth":[]}]},"put":{"tags":["Comments"],"summary":"Update comment","description":"Edits a comment with the specified ID","operationId":"updateCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}},"required":true},"responses":{"200":{"description":"Comment edited","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"404":{"description":"Comment not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Comments"],"summary":"Delete comment","description":"Deletes a comment with the specified ID","operationId":"deleteCommentById","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Comment deleted"},"404":{"description":"Comment not found"}},"security":[{"bearerAuth":[]}]}},"/api/users/me/avatar":{"post":{"tags":["Users"],"summary":"Update authenticated user's avatar","operationId":"updateUserAvatar","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"avatarImage":{"type":"string","format":"binary"}},"required":["avatarImage"]}}}},"responses":{"200":{"description":"User avatar updated","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPreviewResponse"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Users"],"summary":"Delete authenticated user's avatar","operationId":"deleteUserAvatar","responses":{"200":{"description":"User avatar updated"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts":{"get":{"tags":["Blogposts"],"summary":"Get all blog posts","description":"Returns a paginated list of all blog posts. Sorted by creation time descending.","operationId":"getBlogPosts","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"List of all blog posts","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBlogPostResponse"}}}}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Blogposts"],"summary":"Create blog post","description":"Creates a blog post","operationId":"createBlogPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBlogPostRequest"}}},"required":true},"responses":{"201":{"description":"Blog post created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPostResponse"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Blogposts"],"summary":"Bulk delete blog posts","description":"Deletes multiple blog posts with the specified IDs","operationId":"bulkDeleteBlogPostsByIds","parameters":[{"name":"ids","in":"query","description":"Comma-separated list of blog post IDs","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}}],"responses":{"204":{"description":"All blog posts deleted"},"404":{"description":"One or more blog posts not found"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts/{postId}/reactions":{"get":{"tags":["Reactions"],"summary":"Get reactions for blog post","description":"Returns a paginated list of reactions (users and their reaction type) for the specified blog post. Optional filter by reaction type (LIKE or DISLIKE). Sorted by author ID descending.","operationId":"getReactionsByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"reactionType","in":"query","required":false,"schema":{"type":"string","enum":["LIKE","DISLIKE"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Users and their reaction type returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageReactionResponse"}}}},"404":{"description":"Post not found"}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Reactions"],"summary":"Add reaction to blog post","description":"Adds a reaction (LIKE or DISLIKE) to a blog post by the current user. Overwrites users existing reaction if it exists.","operationId":"addReactionByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReactionRequest"}}},"required":true},"responses":{"201":{"description":"Reaction added to blog post"},"404":{"description":"Post not found"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Reactions"],"summary":"Remove reaction from blog post","description":"Removes the current user's reaction (LIKE or DISLIKE) from the blog post.","operationId":"deleteReactionByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Reaction removed from blog post"},"404":{"description":"Post not found"}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts/{postId}/comments":{"get":{"tags":["Comments"],"summary":"Get comments for blogpost","description":"Returns a paginated list of comments for the specified blogpost. Sorted by comment ID descending.","operationId":"getCommentsByPostId","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Comments on blogpost returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCommentResponse"}}}},"404":{"description":"Blogpost not found"}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Comments"],"summary":"Create comment on blogpost","description":"Creates a comment on the specified blogpost","operationId":"createComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}},"required":true},"responses":{"201":{"description":"Comments created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"404":{"description":"Blogpost not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/auth/register":{"post":{"tags":["Auth"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"201":{"description":"User registered and token returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"operationId":"loginUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"Valid credentials passed and token returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"404":{"description":"Invalid credentials passed"}}}},"/api/users/me":{"delete":{"tags":["Users"],"summary":"Delete authenticated user","operationId":"deleteUser","responses":{"204":{"description":"User deleted"}},"security":[{"bearerAuth":[]}]},"patch":{"tags":["Users"],"summary":"Update authenticated user's information","operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"User information updated","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/blog-posts/{postId}":{"get":{"tags":["Blogposts"],"summary":"Get blog post","description":"Returns a blog post with the specified ID","operationId":"getBlogPostById","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Blog post returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPostResponse"}}}},"404":{"description":"Blog post not found"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Blogposts"],"summary":"Delete blog post","description":"Deletes a blog post with the specified ID","operationId":"deleteBlogPostById","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Blog post deleted"},"404":{"description":"Blog post not found"}},"security":[{"bearerAuth":[]}]},"patch":{"tags":["Blogposts"],"summary":"Update blog post","description":"Update a blog post with the specified ID","operationId":"updateBlogPostById","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBlogPostRequest"}}},"required":true},"responses":{"200":{"description":"Blog post edited","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPostResponse"}}}},"404":{"description":"Blog post not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BlogPostResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/users/{userId}/posts":{"get":{"tags":["Blogposts"],"summary":"Get all blog posts by user","description":"Returns a paginated list of blog posts created by the specified user. Sorted by creation time descending.","operationId":"getBlogPostsByUserId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"List of blog posts created by the user returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBlogPostResponse"}}}},"404":{"description":"User not found"}},"security":[{"bearerAuth":[]}]}},"/api/users/{userId}/comments":{"get":{"tags":["Comments"],"summary":"Get all comments by user","description":"Returns a paginated list of comments made by the specified user. Sorted by comment ID descending.","operationId":"getCommentsByAuthorId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Comments by user returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCommentResponse"}}}},"404":{"description":"User not found"}},"security":[{"bearerAuth":[]}]}},"/api/users/{id}":{"get":{"tags":["Users"],"summary":"Get user by id","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"User returned","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}},"404":{"description":"User not found"}},"security":[{"bearerAuth":[]}]}}},"components":{"schemas":{"CommentRequest":{"type":"object","properties":{"body":{"type":"string","maxLength":300,"minLength":0},"parentCommentId":{"type":"integer","format":"int64"}},"required":["body"]},"CommentResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/UserPreviewResponse"},"parentCommentId":{"type":"integer","format":"int64"},"body":{"type":"string"},"hasReplies":{"type":"boolean"}}},"UserPreviewResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"avatarUrl":{"type":"string"}}},"CreateBlogPostRequest":{"type":"object","properties":{"title":{"type":"string","maxLength":255,"minLength":0},"body":{"type":"string","maxLength":16000,"minLength":0}},"required":["body","title"]},"BlogPostResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/UserPreviewResponse"},"title":{"type":"string"},"body":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"likeCount":{"type":"integer","format":"int64"},"dislikeCount":{"type":"integer","format":"int64"},"userReaction":{"type":"string","enum":["LIKE","DISLIKE"]}}},"ReactionRequest":{"type":"object","properties":{"reactionType":{"type":"string","enum":["LIKE","DISLIKE"]}}},"AuthRequest":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":0},"password":{"type":"string","maxLength":128,"minLength":6},"email":{"type":"string"}},"required":["password","username"]},"AuthResponse":{"type":"object","properties":{"token":{"type":"string"}}},"UpdateUserRequest":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":1},"email":{"type":"string"},"displayName":{"type":"string","maxLength":20,"minLength":1},"description":{"type":"string","maxLength":500,"minLength":0},"dateOfBirth":{"type":"string","format":"date"},"gender":{"type":"string","enum":["MALE","FEMALE","RATHER_NOT_SAY","UNSPECIFIED"]}}},"UserProfileResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"avatarUrl":{"type":"string"},"description":{"type":"string"}}},"UpdateBlogPostRequest":{"type":"object","properties":{"title":{"type":"string","maxLength":255,"minLength":0},"body":{"type":"string","maxLength":16000,"minLength":0}}},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"PageBlogPostResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BlogPostResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageCommentResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageReactionResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ReactionResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"ReactionResponse":{"type":"object","properties":{"author":{"$ref":"#/components/schemas/UserPreviewResponse"},"reactionType":{"type":"string","enum":["LIKE","DISLIKE"]}}}}}}